<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:j="http://xmlns.jcp.org/jsf">

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link href="../resources/css/default.css" rel="stylesheet"/>
        <link href="../resources/css/dataTables.bootstrap4.css" rel="stylesheet"/>
        <link href="../resources/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="../resources/css/sb-admin.css" rel="stylesheet"/>
        <link href="../resources/fontawesome-free/css/all.min.css" rel="stylesheet"/>
        <title>Quantum - Flamencos</title>

    </head>

    <body>

        <ui:composition template="./plantilla.xhtml">

            <ui:define name="content">
                <f:event type="preRenderView" listener="#{lotesBean.capturarlotes(session)}"/>
                <div class="container-fluid">
                    <div class="row flex-grow">
                        <div class="card col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  d-flex align-items-stretch" style="margin-bottom: 10px;">
                            <div class="card-body" style="padding: 0.5rem 0.5rem !important;">
                                <div class="media">
                                    <i class="mdi mdi-tree icon-md text-primary d-flex align-self-start mr-2"></i>
                                    <div class="media-body">
                                        <p class="card-text"><h3 class="card-title">Registro de Lotes</h3></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row flex-grow">
                        <div class="card col-xs-12 col-sm-12 col-md-12 col-lg-6 col-xl-5  d-flex align-items-stretch grid-margin">
                            <div class="card-body">
                                <form j:id="formlotes" method="post" class="forms-sample">
                                    <div class="form-group row">
                                        <div class="col-md-6">
                                            <div class="form-label-group">
                                                <label for="parcela">Parcela</label>
                                                <h:selectOneMenu id="parcela" class="form-control" value="#{lotesBean.lotes.parcela}" required="true">
                                                    <f:selectItem itemLabel="Parcela" itemValue="" />
                                                    <f:selectItems value="#{lotesBean.lstParcelas}" var="parcela" itemLabel="#{parcela.parcela}" itemValue="#{parcela.parcela}"/>
                                                </h:selectOneMenu>
                                            </div>
                                        </div>
                                        <div class="col-md-6 ">
                                            <div class="form-label-group">
                                                <label for="codmot">Numero de Lote</label>
                                                <input type="text" class="form-control" j:id="codmot" placeholder="Lote" j:value="#{lotesBean.lotes.lote}" required="true"/>
                                            </div>
                                        </div>
                                    </div>

                                    <p class="card-description h6">
                                        Linderos del Lote
                                    </p>

                                    <div class="form-group row">
                                        <div class="col-md-3">
                                            <div class="form-label-group">
                                                <label for="frente">Frente</label>
                                                <input type="text" class="form-control" j:id="frente" placeholder="0.00" j:value="#{lotesBean.lotes.frontal}" required="true"/>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-label-group">
                                                <label for="derecha">Derecha</label>
                                                <input type="text" class="form-control" j:id="derecha" placeholder="0.00" j:value="#{lotesBean.lotes.derecha}" required="true"/>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-label-group">
                                                <label for="izquierda">Izquierda</label>
                                                <input type="text" class="form-control" j:id="izquierda" placeholder="0.00" j:value="#{lotesBean.lotes.izquierda}" required="true"/>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="fondo">Fondo</label>
                                                <input type="text" class="form-control" j:id="fondo" placeholder="0.00" j:value="#{lotesBean.lotes.fondo}" required="true"/>
                                            </div>
                                        </div>




                                    </div>

                                    <div class="form-group row">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="aexclusiva" class="mb-0">Secci√≥n de Propiedad</label>
                                                <input type="text" class="form-control" j:id="aexclusiva" placeholder="0.00" j:value="#{lotesBean.lotes.exclusiva}" required="true"/>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="acomun">Area Comun</label>
                                                <input type="text" class="form-control" j:id="acomun" placeholder="0.00" j:value="#{lotesBean.lotes.acomun}" required="true"/>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="total">Total</label><br/>
                                                <input type="text" class="form-control" j:id="total" placeholder="0.00" j:value="#{lotesBean.lotes.total}" required="true"/>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <div class="col-md-6 ">
                                            <div class="form-group">

                                                <div class="checkbox checkbox-slider checkbox-slider-sm checkbox-slider-info">
                                                    <label>
                                                        <input type="checkbox"/><span>Vendido</span>
                                                    </label>
                                                </div>
                                            </div>    
                                        </div>
                                        <div class="col-md-6 ">
                                            <div class="form-group float-right">
                                                <label for="precio">Precio</label>
                                                <input type="text" class="form-control" j:id="precio" placeholder="0.00" j:value="#{lotesBean.lotes.precio}" />
                                            </div>
                                        </div>


                                    </div>



                                    <div id="mensaje" style="display: #{lotesBean.message.display}" class="alert alert-#{lotesBean.message.clase} form-row">
                                        <div class="col-3">
                                            <i class="mdi #{lotesBean.message.ico} text-#{lotesBean.message.clase} icon-md "></i>
                                        </div>
                                        <div class="col-8">
                                            <span class="font-weight-medium text-right">#{lotesBean.message.mensaje}</span>
                                        </div>
                                    </div>
                                    <div class="template-demo">
                                        <button type="submit" class="btn btn-success mr-2" j:actionListener="#{lotesBean.operarlotes()}">#{lotesBean.boton}

                                        </button>
                                        <button type="reset" class="btn btn-light">Cancel</button>
                                    </div>

                                </form>
                            </div>
                        </div>
                        <div class="card col-xs-12 col-sm-12 col-md-12 col-lg-6 col-xl-5  d-flex align-items-stretch grid-margin">
                            <div class="card-body">

                                
                                <div class="from-group">

                                    <div id="blah2" class="text-center  border-info m-2" style="border: 2px dashed;">
                                        <div id="cargaimg" class="mt-2 mb-2">
                                            <i class="mdi mdi-cloud-upload mdi-48px"></i>
                                            <p>Sube la imagen haciendo click aqui</p>
                                        </div>

                                        <input type='file' id="imgInp" style="display: none" />
                                        <img id="blah" src="#"   style="width:100%; " />
                                    </div>


                                </div>



                            </div>
                        </div>

                    </div>

                </div>
                <script src="../resources/js/jquery-3.3.1.min.js"></script>
                <script type="text/javascript" src="../resources/js/jquery.priceformat.min.js"></script>
                <script>$('#formlotes\\:precio').priceFormat();</script>
                <script>
                    $("#blah2").hover(function () {
                        $(this).animate({opacity: 0.5}, 100);
                    }, function () {
                        $(this).animate({opacity: 1.0}, 100);
                    });

                    $("#blah2").click(function () {
                        $("#imgInp").click();
                    });

                    function readURL(input) {
                        if (input.files &amp;&amp; input.files[0]) {
                            var reader = new FileReader();

                            reader.onload = function (e) {
                                $('#blah').attr('src', e.target.result);
                                $("#blah").css("display", "");
                            };

                            reader.readAsDataURL(input.files[0]);
                        }
                    }

                    $("#imgInp").change(function () {
                        readURL(this);
                        $("#cargaimg").css("display", "none");
                    });

                    $(function () {
                        if ($("#blah").attr('src') === '#') {
                            $("#blah").css("display", "none");
                        }
                    });
                </script>


            </ui:define>

        </ui:composition>

    </body>
</html>
